#!/usr/bin/python3

import argparse
import socket

# Create a command-line argument parser
parser = argparse.ArgumentParser(description="Connect to a server on a specified IP address and port")
parser.add_argument("--ip", type=str, required=True, help="the IP address of the server to connect to")
parser.add_argument("--port", type=int, required=True, help="the port number to connect to")

# Parse the command-line arguments
args = parser.parse_args()

# Create a new socket object
try:
    clientsocket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
except socket.error as e:
    print("Error creating socket: %s" % e)
    exit()

# Set the IP address and port number
ip_address = args.ip
port = args.port

# Connect to the server
try:
    clientsocket.connect((ip_address, port))
    print("Connected to server at %s:%s" % (ip_address, port))
except socket.error as e:
    print("Error connecting to server: %s" % e)
    exit()

# Receive data from the server
try:
    message = clientsocket.recv(1024)
except socket.error as e:
    print("Error receiving data from server: %s" % e)
    clientsocket.close()
    exit()

# Close the connection
clientsocket.close()

# Print the message received from the server
print(message.decode('ascii'))
